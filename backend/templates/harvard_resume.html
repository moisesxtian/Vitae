<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ data.firstName }} {{ data.lastName }} – Resume</title>
  <style>
  @page { size: A4; margin: 2cm; }
body, html {
  margin: 0;
  padding: 0;
}
body {
  font-family: "Times New Roman", serif;
  font-size: 11pt;
  line-height: 1.4;
  color: #000;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Header Styling */
header {
  text-align: center;
  margin-bottom: 0.8cm;
}
header h1 {
  font-size: 22pt;
  margin: 0.1cm 0;
  font-weight: bold;
}
header p {
  font-size: 10pt;
  margin: 0;
  line-height: 1.2;
}

/* Section Formatting */
section {
  margin-bottom: 1cm;
  page-break-inside: avoid;
}
section h2 {
  font-size: 13pt;
  font-weight: bold;
  text-transform: uppercase;
  margin-bottom: 0.3cm;
  padding-bottom: 2pt;
  border-bottom: 1px solid #000;
}

/* Paragraphs & Lists */
section p,
ul li {
  margin-bottom: 4pt;
  white-space: normal;
  word-break: break-word;
  overflow-wrap: break-word;
}
ul {
  margin: 6pt 0 0 1cm;
  padding: 0;
  list-style-type: disc;
}

/* Summary */
.summary {
  white-space: normal;
  word-break: break-word;
  overflow-wrap: break-word;
}

/* Flex Layout for Experience/Education */
.flexed {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  font-weight: bold;
  margin-bottom: 2pt;
}
.flexed span {
  flex-shrink: 1;
  min-width: 0;
}
.flexed .dates {
  font-style: italic;
  white-space: normal;
  font-weight: normal;
}

/* Two-Column Section (e.g., Skills) */
.two-col {
  display: flex;
  gap: 1cm;
  width: 100%;
  margin-bottom: 1cm;
}
.two-col section {
  flex: 1;
  max-width: calc(50% - 0.5cm);
}

/* Skills Section */
.skills ul {
  margin: 0.2cm 0 0.3cm;
  padding: 0;
  column-width: 5cm;
  column-gap: 1cm;
}
.skills ul li {
  font-size: 11pt;
  font-style: italic;
  padding: 2pt 4pt;
  margin-bottom: 4pt;
  break-inside: avoid;
}

/* Certifications/Projects */
section ul li,
section p {
  margin-left: 0.3cm;
  margin-right: 0.3cm;
}

/* Footer */
footer {
  margin-top: 2cm;
  text-align: center;
  font-size: 9pt;
  color: #666;
}
  </style>
</head>
<body>
  <header>
    <h1>{{ data.firstName }}{% if data.middleInitial %} {{ data.middleInitial }}{% endif %} {{ data.lastName }}</h1>
    <p>
      {% if data.email %}{{ data.email }}{% endif %}
      {% if data.phone %} · {{ data.phone }}{% endif %}
      {% if data.linkedin %} · {{ data.linkedin }}{% endif %}
    </p>
  </header>

{% if data.summary %}
<div>
<section>
  <h2>Summary</h2>
  <p class="summary">{{ data.summary }}</p>
</section>
</div>
{% endif %}

<div class="two-col">
  {% if data.skills %}
  {% set clean_skills = data.skills | select('string') | list %}
  {% if clean_skills %}
  <section class="skills">
    <h2>Skills</h2>
    <ul>
      {% for skill in clean_skills %}
      <li>{{ skill }}</li>
      {% endfor %}
    </ul>
  </section>
  {% endif %}
  {% endif %}
</div>

  {% if data.experience %}
  <section>
    <h2>Work Experience</h2>
    {% for job in data.experience %}
      {% if job.jobtitle or job.company %}
      <div class="mb-2">
        <div class="flexed">
          <span>{{ job.jobtitle }}{% if job.company %}, {{ job.company }}{% endif %}</span>
          <span class="dates">{{ job.start }} – {{ "Present" if job.present else job.end }}</span>
        </div>
        {% set filtered = job.bullets | select('string') | list %}
        {% if filtered %}
        <ul>
          {% for bullet in filtered %}
          <li>{{ bullet }}</li>
          {% endfor %}
        </ul>
        {% endif %}
      </div>
      {% endif %}
    {% endfor %}
  </section>
  {% endif %}

{% if data.education %}
  <section>
    <h2>Education</h2>

    {% for edu in data.education %}
      {% if edu.school or edu.degree or edu.field %}
        <div class="mb-2">
          <div class="flexed justify-between">
            <span class="font-bold">
              {{ edu.school }}
            </span>
            <span class="dates text-sm text-gray-600">
              {{ edu.start }} – {{ "Present" if edu.present else edu.end }}
            </span>
          </div>

          {% if edu.degree or edu.field %}
            <div><em>
              {% if edu.degree %}{{ edu.degree }}{% endif %}
              {% if edu.field %} in {{ edu.field }}{% endif %}
            </em></div>
          {% endif %}

          {% if edu.bullets %}
            <ul class="list-disc list-inside mt-1 text-sm">
              {% for bullet in edu.bullets %}
                <li>{{ bullet }}</li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      {% endif %}
    {% endfor %}
  </section>
{% endif %}



  {% if data.certifications %}
  {% set certs = data.certifications | selectattr('name') | list %}
  {% if certs %}
  <section>
    <h2>Certifications</h2>
    <ul>
      {% for cert in certs %}
      <li>
        {{ cert.name }}{% if cert.issuer %} – {{ cert.issuer }}{% endif %}{% if cert.date %} ({{ cert.date }}){% endif %}
      </li>
      {% endfor %}
    </ul>
  </section>
  {% endif %}
  {% endif %}

  {% if data.projects %}
  {% set projs = data.projects | selectattr('name') | list %}
  {% if projs %}
  <section>
    <h2>Projects</h2>
    {% for p in projs %}
    <div>
      <strong>{{ p.name }}</strong>
      {% if p.description %}
      <p>{{ p.description }}</p>
      {% endif %}
    </div>
    {% endfor %}
  </section>
  {% endif %}
  {% endif %}

</body>
</html>